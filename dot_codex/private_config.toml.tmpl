# model = "gpt-5-codex"
# model_provider = "local"

model = "gpt-5.2-codex"
model_reasoning_effort = "medium"

approval_policy = "on-failure"
sandbox_mode = "workspace-write"
personality = "pragmatic"

[sandbox_workspace_write]
network_access = true

[model_providers.local]
name = "local"
base_url = "http://localhost:8080/v1"
disable_response_storage = true
show_raw_agent_reasoning = true

[features]
treamable_shell = true
web_search_request = true
unified_exec = true

[mcp_servers.kubernetes]
command = "bunx"
args = ["-y", "kubernetes-mcp-server@latest", "--read-only"]

[mcp_servers.grafana]
command = "mcp-grafana"
"args" = []
env = { GRAFANA_URL = "https://grafana.chik4ge.me", GRAFANA_SERVICE_ACCOUNT_TOKEN = "{{ onepasswordRead "op://homelab/grafana-service-account/token" }}" }

# [projects."/home/chikage/dev/k8s-homelab/homelab-applications"]
# trust_level = "untrusted"

# [projects."/home/chikage/dev/k8s-homelab/iac"]
# trust_level = "untrusted"

# [projects."/home/chikage/dev/k8s-homelab/iac/talhelper"]
# trust_level = "untrusted"

# [projects."/home/chikage/dev/k8s-homelab/renovate-config"]
# trust_level = "untrusted"

[notice.model_migrations]
"gpt-5.1-codex-max" = "gpt-5.2-codex"
