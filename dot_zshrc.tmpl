# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

eval `dircolors -b ~/.colorrc`

{{ if eq .chezmoi.os "darwin" -}}
alias ls='LC_COLLATE=C gls --group-directories-first --color -h --time-style="+%Y-%m-%d %H:%M:%S"'
{{ else if eq .chezmoi.os "linux" -}}
alias ls='ls -hv --color --group-directories-first --time-style="+%Y-%m-%d %H:%M:%S" '
{{ end -}}

alias ll='ls -AlF'
alias la='ls -AF'

alias cz='chezmoi'

alias lzg='lazygit'
alias lzd='lazydocker'

bindkey "^[[1;5C" forward-word
bindkey "^[[1;5D" backward-word

eval "$(sheldon source)"

if which plenv > /dev/null; then eval "$(plenv init - zsh)"; fi

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export FZF_DEFAULT_OPTS="
    --preview 'bat  --color=always --style=header,grid {}'
    --preview-window=right:60%
"
_fzf_comprun() {
  local command=$1
  shift

  case "$command" in
    cd)           fzf --preview 'tree -C {} | head -200'   "$@" ;;
    export|unset) fzf --preview "eval 'echo \$'{}"         "$@" ;;
    ssh)          fzf --preview 'dig {}'                   "$@" ;;
    *)            fzf --preview 'bat -n --color=always {}' "$@" ;;
  esac
}

{{ if eq .chezmoi.os "darwin" -}}
eval "$(/opt/homebrew/bin/brew shellenv)"
{{ else if eq .chezmoi.os "linux" -}}
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
{{ end -}}
